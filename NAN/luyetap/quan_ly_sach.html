<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quản lý sách</title>
</head>
<body>
<h2>Quản lý sách</h2>
<form>
    <input id="maSach" type="number" placeholder="Mã sách"><br>
    <input id="tenSach" placeholder="Tên sách"><br>
    <input id="tacGia" placeholder="Tác giả"><br>
    <input id="namXuatBan" type="number" placeholder="Năm xuất bản">
</form><br>
<button onclick="themSach()">Thêm sách</button>
<button onclick="xoaSach()">Xóa sách</button>

<div id="bang"></div>

<script>
    class Sach {
        constructor(maSach, tenSach, tacGia, namXuatBan) {
            this.maSach = maSach;
            this.tenSach = tenSach;
            this.tacGia = tacGia;
            this.namXuatBan = namXuatBan;
        }
    }

    let danhsach = [
        // new Sach("S001", "Dế mèn phiêu lưu ký", "Tô Hoài", 1941),
        // new Sach("S002", "Lão Hạc", "Nam Cao", 1943),
        // new Sach("S003", "Chiếc lược ngà", "Nguyễn Quang Sáng", 1966)
    ];

    function hienthidanhsach() {
        let html = "<table border='1'>"
            + "<tr><th>Mã sách</th><th>Tên sách</th><th>Tác giả</th><th>Năm xuất bản</th></tr>";
        for (let sach of danhsach) {
            html += `<tr>
                <td>${sach.maSach}</td>
                <td>${sach.tenSach}</td>
                <td>${sach.tacGia}</td>
                <td>${sach.namXuatBan}</td>
               </tr>`;
        }
        html += "</table>";
        document.getElementById("bang").innerHTML = html;
    }

    function themSach() {
        let ma = document.getElementById("maSach").value.trim();
        let ten = document.getElementById("tenSach").value.trim();
        let tacgia = document.getElementById("tacGia").value.trim();
        let nam = +document.getElementById("namXuatBan").value;

        if (!ma || !ten || !tacgia || isNaN(nam) || nam <= 0) {
            alert("Vui lòng nhập đầy đủ và hợp lệ!");
            return;
        }

        let sachMoi = new Sach(ma, ten, tacgia, nam);
        danhsach.push(sachMoi);
        hienthidanhsach();
    }

    function xoaSach() {
        let ma = prompt("Nhập vào mã sách cần xóa:");
        danhsach = danhsach.filter(s => s.maSach !== ma);
        hienthidanhsach();
    }

    // Gọi hàm hiển thị ban đầu
    hienthidanhsach();
</script>
</body>
</html>
